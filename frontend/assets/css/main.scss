// Palette
// See Bulma variables:
// https: //bulma.io/documentation/customize/variables/

/* 
  GF 04/05/2022: Convention to define colour variable names.
  We use names that are not tied to neither the specific colour
  nor to the object they are initially tied to.
  Initial colour palette derived from flat designs:
  https: //www.figma.com/file/8mGkpFZTQpL7kpGCOYRgC8/Alice-Thornton?node-id=164%3A1480
*/

@import "fonts.scss";

// Project variables

$white: #fbfbfb;
$primary: #462200;
// $secondary: #c45300;
// GF 18/05/2022: changed to a slightly darker orange to meet accessiblity
// requirements for colour contrast
$secondary: #b34200;
$accent: #df8833;
$light: #cdcac7;
$dark: #0a0a0a;

@import "../node_modules/bulma/bulma.sass";

body {
  background: linear-gradient(
      0.75turn,
      transparent 60%,
      rgba(lighten($primary, 70%), 0.5)
    ),
    url("/assets/img/alice-thornthon-bg-2.jpg") top left repeat-y;
  background-size: 100vw;
}

.block {
  overflow: auto;
}

// TODO:
// Customise Bulma's variables rather than override them
.is-primary {
  background: $primary !important;
}

.is-secondary {
  background: $secondary !important;
}

.is-accent {
  background: $accent !important;
  color: $black !important;
}

a.tag {
  text-decoration: none;
}
// END TODO

// Shared layout

// Grid based layoout
// .wrapper {
//   display: grid;
//   grid-template-columns: 100%;
//   grid-gap: 10px;

//   @include desktop {
//     grid-template-columns: 70% 30%;
//   }
// }

body {
  background-color: $white;
  font-family: "Noto", sans-serif;
  font-size: 18px;
  font-weight: 450;
  line-height: 1.75;
}

a {
  text-decoration: underline;

  &:hover {
    background-color: lighten($accent, 25%);
  }
}

p {
  &.small {
    font-size: 0.875em;
  }
}

// Headings

h1,
h1.title {
  font-size: 2.25em;
}

h2 {
  font-size: 1.5em;
}

h3 {
  font-size: 1.25em;
}

.content {
  h1, h2, h3,
  h4, h5, h6 {
    color: $secondary;
    font-family: "Lora", serif;
  }
}

h1, h2, h3,
h4, h5, h6 {
  color: $secondary;
  font-family: "Lora", serif;

  &.small-heading {
    font-size: 1.5em;
  }
}

.index-page-titles {
  background: lighten($secondary, 55%);
  padding: 0.25em;
  a {
    color: $black;
    text-decoration: none;
  }
}

.title {
  color: $secondary;
}

// Index pages with images

.index-page-w-images {
  display: grid;
  grid-template-columns: 30% 70%;
  grid-gap: 15px;
  margin-bottom: 1em;

  @include mobile {
    grid-template-columns: 100%;
  }

  img {
    width: 100%;
  }
}

footer,
.footer {
  background-color: lighten($light, 30%);
}

// Alignment

.text-center {
  text-align: center;
}

.text-left {
  text-align: left;
}

.text-right {
  text-align: right;
}

/* Images */

.content .icon {
  img {
    background: transparent;
  }
}

// TODO: improve or delete the workaround.
// GF: This is a workaround to overcaome the limitations
// of the markdown image plugin.
// The plugin duplicates the classes, they are both in the <figure>
// and <img> elements, so I am unsetting the floating on the <img>
// and adding it to the <figure>.

figure {
  .media-left,
  .media-right,
  .media-center,
  img[src*="#left"],
  img[src*="#right"],
  img[src*="#center"] {
    float: unset;
  }

  &.media-left {
    float: left;
  }

  &.media-right {
    float: right;
  }
}

// END figure workaround

figcaption {
  font-size: .875em;
  margin: 0 auto;
  max-width: 400px;
}

// Gallery

[class^="gallery-"] {
  display: grid;
  grid-template-columns: 100%;
  grid-gap: 5px;

  img {
    width: 100% !important;
  }

  p {
    margin-bottom: 0;
    padding: 0.5em;
  }
}

.gallery-by-2 {
  grid-template-columns: 50% 50%;
}

.gallery-by-3 {
  @include tablet {
    grid-template-columns: 33% 33% 33%;
  }
}

.gallery-by-4 {
  @include tablet {
    grid-template-columns: 50% 50%;
  }

  @include desktop {
    grid-template-columns: 25% 25% 25% 25%;
  }
}

.logo {
  img {
    background: $white;
    border: 1px solid $light;
    border-radius: 50%;
    display: block;
    height: 50px;
    max-height: 50px;
    margin-right: 8px;
    width: 50px;
  }
}

.logos,
.content .logos,
[class^="gallery-"] .logos {
  img {
    background: transparent;
    padding: 50px;
  }
}

.logos {
  margin: 0 auto;
  max-width: 1280px;
}

.navbar {
  background-color: $primary;
  color: $light;

  .navbar-burger {
    color: $light;
    &:hover {
      background-color: $light;
      color: $primary;
    }
  }

  a.navbar-item {
    background-color: $primary;
    padding: 1.5rem 1rem 1.25rem;
    text-decoration: none;

    color: $light;

    &.is-active {
      border-bottom: 4px solid $white;
      color: $white;
    }

    @include touch {
      &.is-active {
        background-color: $secondary;
        border-bottom: none;
      }
    }

    &:hover {
      background-color: $white;
      color: $primary;
    }

    &:focus {
      border: 1px solid $accent;
    }
  }

  .navbar-menu {
    background-color: $primary;

    .is-active {
      color: $primary;
    }
  }
}

// /posts

.post-meta {
  font-size: 0.875em;
  font-style: italic;

  .tag {
    margin-right: 0.5em;
  }
}

div.content {
  img {
    background: $light;
    padding: 3px;
  }
}

img[src*="#right"] {
  float: right;
  margin-left: 0.5em;
}

img[src*="#left"] {
  float: left;
  margin-right: 0.5em;
}

img[src*="#center"] {
  display: block;
  margin: 0.5em auto;
}

img[src*="#left"],
img[src*="#right"],
img[src*="#center"] {
  width: 20vw;

  @include mobile {
    display: block;
    float: none;
    margin: 0.5em 0;
    width: 100%;
  }
}

// Social media

ul.social_media_block {
  display: grid;
  list-style: none;
  margin: 0;

  grid-template-columns: 100%;
  grid-gap: 1em;

  @include tablet {
    grid-template-columns: 33% 33% 33%;
  }

  figure {
    margin-left: 0;
    margin-bottom: 1em !important;
  }
}

.tweet {
  background: $white;
  border-radius: 0.5em;
  font-size: 0.875em;
  padding: 1em;

  .icon {
    svg {
      fill: $accent;
    }
  }
}

.twitter_user {
  display: grid;
  grid-template-columns: 40px auto;
}
